(()=>{var e={};e.id=938,e.ids=[938],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76373:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>y,tree:()=>c}),r(52583),r(32694),r(71363);var a=r(36576),s=r(72007),n=r(21818),i=r.n(n),l=r(88897),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,52583)),"/home/ubuntu/naggery_app/app/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32694)),"/home/ubuntu/naggery_app/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/naggery_app/app/app/settings/page.tsx"],x="/settings/page",p={require:r,loadChunk:()=>Promise.resolve()},y=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},62705:(e,t,r)=>{Promise.resolve().then(r.bind(r,90557))},90557:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(62901),s=r(24383),n=r(84700),i=r(77185),l=r(32317),o=r(68734),c=r(44928),d=r(71945);let x=(0,d.Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var y=r(27878),g=r(23803),m=r(30235),h=r(24022),u=r(60437);function b(){let{data:e}=(0,n.useSession)(),{toast:t}=(0,u.pm)(),[r,d]=(0,s.useState)(!1),b=async()=>{confirm("Are you sure you want to sign out?")&&await (0,n.signOut)({callbackUrl:"/login"})},j=async e=>{d(!0);try{let r=await fetch("/api/entries?limit=1000");if(!r.ok)throw Error("Failed to fetch entries");let a=(await r.json()).entries||[];if(0===a.length){t({title:"No data to export",description:"You have no entries to export yet.",variant:"destructive"});return}let s="",n="",i="";if("JSON"===e)s=JSON.stringify(a,null,2),n=`naggery-export-${new Date().toISOString().split("T")[0]}.json`,i="application/json";else if("TXT"===e)s=a.map(e=>{let t=new Date(e.createdAt).toLocaleString(),r="VOICE"===e.type?"Voice Note":"Text Entry",a=e.mood,s=`Date: ${t}
`;return s+=`Type: ${r}
Mood: ${a}
`,e.title&&(s+=`Title: ${e.title}
`),e.content&&(s+=`Content: ${e.content}
`),e.voiceUrl&&(s+=`Voice URL: ${e.voiceUrl}
`),s+="\n"+"=".repeat(50)+"\n\n"}).join(""),n=`naggery-export-${new Date().toISOString().split("T")[0]}.txt`,i="text/plain";else if("PDF"===e){let e=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Naggery Export</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 40px; }
              .entry { margin-bottom: 30px; border-bottom: 1px solid #ccc; padding-bottom: 20px; }
              .entry-header { background: #f5f5f5; padding: 10px; margin-bottom: 10px; }
              .entry-content { margin: 10px 0; }
            </style>
          </head>
          <body>
            <h1>Naggery Export</h1>
            <p>Generated on: ${new Date().toLocaleString()}</p>
            <p>Total entries: ${a.length}</p>
            <hr>
            ${a.map(e=>`
              <div class="entry">
                <div class="entry-header">
                  <strong>Date:</strong> ${new Date(e.createdAt).toLocaleString()}<br>
                  <strong>Type:</strong> ${"VOICE"===e.type?"Voice Note":"Text Entry"}<br>
                  <strong>Mood:</strong> ${e.mood}
                  ${e.title?`<br><strong>Title:</strong> ${e.title}`:""}
                </div>
                ${e.content?`<div class="entry-content">${e.content.replace(/\n/g,"<br>")}</div>`:""}
                ${e.voiceUrl?`<div><strong>Voice URL:</strong> ${e.voiceUrl}</div>`:""}
              </div>
            `).join("")}
          </body>
          </html>
        `,r=new Blob([e],{type:"text/html"}),s=URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download=`naggery-export-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),t({title:"Export successful",description:"Your data has been exported as HTML. You can print it as PDF from your browser."});return}let l=new Blob([s],{type:i}),o=URL.createObjectURL(l),c=document.createElement("a");c.href=o,c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o),t({title:"Export successful",description:`Your data has been exported as ${e}.`})}catch(e){console.error("Export failed:",e),t({title:"Export failed",description:"Something went wrong while exporting your data.",variant:"destructive"})}finally{d(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 pb-20",children:[a.jsx(h.m,{title:"Settings"}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[(0,a.jsxs)(g.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(g.Ol,{children:[(0,a.jsxs)(g.ll,{className:"flex items-center gap-2 text-gray-50",children:[a.jsx(i.Z,{className:"h-5 w-5"}),"Account"]}),a.jsx(g.SZ,{className:"text-gray-400",children:"Your account information"})]}),(0,a.jsxs)(g.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Name"}),a.jsx("div",{className:"text-gray-200",children:e?.user?.name||"Not set"})]}),(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-200",children:e?.user?.email||"Not set"})]})]})]}),(0,a.jsxs)(g.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(g.Ol,{children:[(0,a.jsxs)(g.ll,{className:"flex items-center gap-2 text-gray-50",children:[a.jsx(l.Z,{className:"h-5 w-5"}),"Data Management"]}),a.jsx(g.SZ,{className:"text-gray-400",children:"Export and manage your personal data"})]}),a.jsx(g.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Export Your Data"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Download all your entries in your preferred format for backup or legal documentation purposes."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>j("TXT"),disabled:r,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Export as TXT"]}),(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>j("JSON"),disabled:r,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Export as JSON"]}),(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>j("PDF"),disabled:r,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Export as PDF"]})]})]})})]}),(0,a.jsxs)(g.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(g.Ol,{children:[(0,a.jsxs)(g.ll,{className:"flex items-center gap-2 text-gray-50",children:[a.jsx(c.Z,{className:"h-5 w-5"}),"Privacy & Security"]}),a.jsx(g.SZ,{className:"text-gray-400",children:"Your data privacy and security information"})]}),(0,a.jsxs)(g.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-green-900/20 border border-green-700/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-green-200 mb-2",children:"\uD83D\uDD12 End-to-End Privacy"}),a.jsx("p",{className:"text-sm text-green-100",children:"Your entries are stored securely and only accessible by you. Voice recordings and text data are encrypted and protected."})]}),(0,a.jsxs)("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-200 mb-2",children:"\uD83D\uDCF1 Offline Capability"}),a.jsx("p",{className:"text-sm text-blue-100",children:"This app works offline as a PWA. Your data is stored locally and synced when you're online."})]})]})]}),(0,a.jsxs)(g.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(g.Ol,{children:[(0,a.jsxs)(g.ll,{className:"flex items-center gap-2 text-gray-50",children:[a.jsx(x,{className:"h-5 w-5"}),"About Naggery"]}),a.jsx(g.SZ,{className:"text-gray-400",children:"Application information and usage"})]}),a.jsx(g.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-300 space-y-2",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Purpose:"})," Naggery is designed as a private documentation tool for recording personal experiences, thoughts, and observations."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Legal Documentation:"})," All entries are timestamped and can be exported for potential legal documentation purposes."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Privacy First:"})," Your data never leaves your control. All recordings and entries are stored securely and privately."]})]})})]}),a.jsx(g.Zb,{className:"bg-gray-800 border-gray-700",children:a.jsx(g.aY,{className:"p-6",children:(0,a.jsxs)(y.z,{variant:"destructive",onClick:b,className:"w-full",children:[a.jsx(p,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]}),a.jsx(m.L,{})]})}},30235:(e,t,r)=>{"use strict";r.d(t,{L:()=>y});var a=r(62901),s=r(84374),n=r(62392),i=r(71945);let l=(0,i.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var o=r(50283);let c=(0,i.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var d=r(67935),x=r(68637);let p=[{href:"/",icon:l,label:"Dashboard"},{href:"/entries",icon:o.Z,label:"Entries"},{href:"/analytics",icon:c,label:"Analytics"},{href:"/settings",icon:d.Z,label:"Settings"}];function y(){let e=(0,s.usePathname)();return a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gray-800/95 backdrop-blur-sm border-t border-gray-700 mobile-safe-area",children:a.jsx("nav",{className:"flex items-center justify-around py-2 px-4 max-w-md mx-auto",children:p.map(t=>{let r=e===t.href,s=t.icon;return(0,a.jsxs)(n.default,{href:t.href,className:(0,x.cn)("flex flex-col items-center justify-center py-2 px-3 rounded-lg transition-colors min-h-[60px] min-w-[60px]",r?"text-blue-400 bg-gray-700/50":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/30"),children:[a.jsx(s,{className:"h-6 w-6 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:t.label})]},t.href)})})})}},75909:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},68734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},32317:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},50283:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},44928:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},77185:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},52583:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(88895).createProxy)(String.raw`/home/ubuntu/naggery_app/app/app/settings/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[372,446,335,921],()=>r(76373));module.exports=a})();