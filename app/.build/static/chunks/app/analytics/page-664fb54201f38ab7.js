(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{22940:function(e,t,s){Promise.resolve().then(s.bind(s,49335))},49335:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var a=s(15444),r=s(89300),n=s(99827),i=s(2422),l=s(8587),c=s(34161),o=s(33186),d=s(48803),x=s(81909),u=s(5468),m=s(96516),h=s(86354),g=s(59160),f=s(57243),y=s(16014),b=s(74272),j=s(89966),p=s(71639),N=s(90817),v=s(64670),w=s(75012),D=s(14373);function E(){let[e,t]=(0,r.useState)(null),[s,E]=(0,r.useState)(!0),[S,A]=(0,r.useState)("30"),k=async()=>{E(!0);try{let e=await fetch(`/api/analytics?range=${S}`);if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to fetch analytics:",e)}finally{E(!1)}};(0,r.useEffect)(()=>{k()},[S]);let R=e=>{A(e)};if(s)return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 pb-20",children:[(0,a.jsx)(c.m,{title:"Analytics"}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto p-4",children:(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading analytics..."})}),(0,a.jsx)(l.L,{})]});if(!e)return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 pb-20",children:[(0,a.jsx)(c.m,{title:"Analytics"}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto p-4",children:(0,a.jsx)(n.Zb,{className:"bg-gray-800 border-gray-700",children:(0,a.jsxs)(n.aY,{className:"text-center py-12",children:[(0,a.jsx)(v.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-200 mb-2",children:"No data available"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Create some entries to see your analytics."})]})})}),(0,a.jsx)(l.L,{})]});let C=e.moodFrequency.map(e=>({mood:o.aK[e.mood],count:e.count,fill:o.X[e.mood]})),F=e.entryTypeRatio.map(e=>({type:"VOICE"===e.type?"Voice Notes":"Text Entries",count:e.count,fill:"VOICE"===e.type?"#3B82F6":"#10B981"})),L=e.entriesOverTime.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),count:e.count}));return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 pb-20",children:[(0,a.jsx)(c.m,{title:"Analytics"}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[(0,a.jsx)(n.Zb,{className:"bg-gray-800 border-gray-700",children:(0,a.jsx)(n.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-200 mr-3",children:"Time Range:"}),[{value:"7",label:"Last 7 days"},{value:"30",label:"Last 30 days"},{value:"90",label:"Last 3 months"},{value:"0",label:"All time"}].map(e=>(0,a.jsx)(i.z,{variant:S===e.value?"default":"outline",size:"sm",onClick:()=>R(e.value),className:S===e.value?"bg-blue-500 hover:bg-blue-600":"border-gray-600 text-gray-300",children:e.label},e.value))]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(n.Zb,{className:"bg-gray-800 border-gray-700",children:(0,a.jsxs)(n.aY,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:e.totalEntries}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Entries"})]})}),(0,a.jsx)(n.Zb,{className:"bg-gray-800 border-gray-700",children:(0,a.jsxs)(n.aY,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:e.averageEntriesPerWeek}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Avg per Week"})]})}),(0,a.jsx)(n.Zb,{className:"bg-gray-800 border-gray-700",children:(0,a.jsxs)(n.aY,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:e.moodFrequency.length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Mood Types"})]})})]}),L.length>0&&(0,a.jsxs)(n.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5"}),"Entries Over Time"]}),(0,a.jsx)(n.SZ,{className:"text-gray-400",children:"Your documentation activity timeline"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(x.w,{data:L,children:[(0,a.jsx)(u.K,{dataKey:"date",tickLine:!1,tick:{fontSize:10},axisLine:!1}),(0,a.jsx)(m.B,{tickLine:!1,tick:{fontSize:10},axisLine:!1}),(0,a.jsx)(h.u,{contentStyle:{backgroundColor:"#374151",border:"none",borderRadius:"8px",fontSize:11}}),(0,a.jsx)(g.x,{type:"monotone",dataKey:"count",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})})]}),C.length>0&&(0,a.jsxs)(n.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5"}),"Mood Distribution"]}),(0,a.jsx)(n.SZ,{className:"text-gray-400",children:"Frequency of different moods in your entries"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(f.v,{data:C,children:[(0,a.jsx)(u.K,{dataKey:"mood",tickLine:!1,tick:{fontSize:10},axisLine:!1}),(0,a.jsx)(m.B,{tickLine:!1,tick:{fontSize:10},axisLine:!1}),(0,a.jsx)(h.u,{contentStyle:{backgroundColor:"#374151",border:"none",borderRadius:"8px",fontSize:11}}),(0,a.jsx)(y.$,{dataKey:"count",radius:[4,4,0,0]})]})})})})]}),F.length>0&&(0,a.jsxs)(n.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(D.Z,{className:"h-5 w-5"}),"Entry Types"]}),(0,a.jsx)(n.SZ,{className:"text-gray-400",children:"Distribution of voice notes vs text entries"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(b.u,{children:[(0,a.jsx)(j.b,{data:F,dataKey:"count",nameKey:"type",cx:"50%",cy:"50%",outerRadius:80,label:({type:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,children:F.map((e,t)=>(0,a.jsx)(p.b,{fill:e.fill},`cell-${t}`))}),(0,a.jsx)(h.u,{contentStyle:{backgroundColor:"#374151",border:"none",borderRadius:"8px",fontSize:11}}),(0,a.jsx)(N.D,{verticalAlign:"top",wrapperStyle:{fontSize:11}})]})})})})]}),(0,a.jsxs)(n.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{className:"text-gray-50",children:"Insights"}),(0,a.jsx)(n.SZ,{className:"text-gray-400",children:"Patterns and trends in your documentation"})]}),(0,a.jsxs)(n.aY,{className:"space-y-3",children:[e.moodFrequency.length>0&&(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-200 mb-2",children:"Most Common Mood"}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:["Your most frequently documented mood is"," ",(0,a.jsx)("span",{className:"font-medium text-blue-400",children:o.aK[e.moodFrequency.sort((e,t)=>t.count-e.count)[0].mood]})," ","with ",e.moodFrequency.sort((e,t)=>t.count-e.count)[0].count," entries."]})]}),e.averageEntriesPerWeek>0&&(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-200 mb-2",children:"Documentation Frequency"}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:["You're averaging"," ",(0,a.jsxs)("span",{className:"font-medium text-green-400",children:[e.averageEntriesPerWeek," entries per week"]}),", which shows consistent documentation habits."]})]}),e.entryTypeRatio.length>1&&(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-200 mb-2",children:"Preferred Format"}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:["You tend to use"," ",(0,a.jsx)("span",{className:"font-medium text-purple-400",children:"VOICE"===e.entryTypeRatio.sort((e,t)=>t.count-e.count)[0].type?"voice notes":"text entries"})," ","more frequently for your documentation."]})]})]})]})]}),(0,a.jsx)(l.L,{})]})}},8587:function(e,t,s){"use strict";s.d(t,{L:function(){return u}});var a=s(15444),r=s(79047),n=s(41084),i=s(71384),l=s(86523),c=s(26378),o=s(6488),d=s(65522);let x=[{href:"/",icon:i.Z,label:"Dashboard"},{href:"/entries",icon:l.Z,label:"Entries"},{href:"/analytics",icon:c.Z,label:"Analytics"},{href:"/settings",icon:o.Z,label:"Settings"}];function u(){let e=(0,r.usePathname)();return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gray-800/95 backdrop-blur-sm border-t border-gray-700 mobile-safe-area",children:(0,a.jsx)("nav",{className:"flex items-center justify-around py-2 px-4 max-w-md mx-auto",children:x.map(t=>{let s=e===t.href,r=t.icon;return(0,a.jsxs)(n.default,{href:t.href,className:(0,d.cn)("flex flex-col items-center justify-center py-2 px-3 rounded-lg transition-colors min-h-[60px] min-w-[60px]",s?"text-blue-400 bg-gray-700/50":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/30"),children:[(0,a.jsx)(r,{className:"h-6 w-6 mb-1"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:t.label})]},t.href)})})})}},34161:function(e,t,s){"use strict";s.d(t,{m:function(){return l}});var a=s(15444),r=s(98155),n=s(79047),i=s(2422);function l({title:e,showBack:t=!1,action:s}){let l=(0,n.useRouter)();return(0,a.jsx)("header",{className:"sticky top-0 z-40 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 mobile-safe-area",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t&&(0,a.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>l.back(),className:"h-10 w-10",children:(0,a.jsx)(r.Z,{className:"h-5 w-5"})}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-50",children:e})]}),s&&(0,a.jsx)("div",{children:s})]})})}},2422:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var a=s(15444),r=s(89300),n=s(21030),i=s(2371),l=s(65522);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 touch-button",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-14 rounded-md px-8",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},o)=>{let d=r?n.g7:"button";return(0,a.jsx)(d,{className:(0,l.cn)(c({variant:t,size:s,className:e})),ref:o,...i})});o.displayName="Button"},99827:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var a=s(15444),r=s(89300),n=s(65522);let i=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},33186:function(e,t,s){"use strict";s.d(t,{JH:function(){return n},X:function(){return i},aK:function(){return r},eS:function(){return a}});let a={MALE:"Male",FEMALE:"Female",OTHER:"Other",PREFER_NOT_TO_SAY:"Prefer not to say"},r={HAPPY:"Happy",NEUTRAL:"Neutral",ANGRY:"Angry",SAD:"Sad",CONFUSED:"Confused",FRUSTRATED:"Frustrated",ANXIOUS:"Anxious",CALM:"Calm"},n={HAPPY:"\uD83D\uDE0A",NEUTRAL:"\uD83D\uDE10",ANGRY:"\uD83D\uDE20",SAD:"\uD83D\uDE22",CONFUSED:"\uD83E\uDD14",FRUSTRATED:"\uD83D\uDE24",ANXIOUS:"\uD83D\uDE30",CALM:"\uD83D\uDE0C"},i={HAPPY:"#10B981",NEUTRAL:"#6B7280",ANGRY:"#EF4444",SAD:"#3B82F6",CONFUSED:"#F59E0B",FRUSTRATED:"#F97316",ANXIOUS:"#8B5CF6",CALM:"#06B6D4"}},65522:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(32191),r=s(23607);function n(...e){return(0,r.m6)((0,a.W)(e))}}},function(e){e.O(0,[162,10,877,386,156,744],function(){return e(e.s=22940)}),_N_E=e.O()}]);