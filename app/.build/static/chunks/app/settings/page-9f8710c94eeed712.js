(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{86476:function(e,t,r){Promise.resolve().then(r.bind(r,11502))},11502:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(15444),s=r(89300),n=r(75762),i=r(4693),o=r(26771),l=r(26584),c=r(19484),d=r(42154);let u=(0,d.Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),x=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var y=r(2422),m=r(99827),h=r(8587),p=r(34161),g=r(95854);function f(){let{data:e}=(0,n.useSession)(),{toast:t}=(0,g.pm)(),[r,d]=(0,s.useState)(!1),f=async()=>{confirm("Are you sure you want to sign out?")&&await (0,n.signOut)({callbackUrl:"/login"})},b=async e=>{d(!0);try{let r=await fetch("/api/entries?limit=1000");if(!r.ok)throw Error("Failed to fetch entries");let a=(await r.json()).entries||[];if(0===a.length){t({title:"No data to export",description:"You have no entries to export yet.",variant:"destructive"});return}let s="",n="",i="";if("JSON"===e)s=JSON.stringify(a,null,2),n=`naggery-export-${new Date().toISOString().split("T")[0]}.json`,i="application/json";else if("TXT"===e)s=a.map(e=>{let t=new Date(e.createdAt).toLocaleString(),r="VOICE"===e.type?"Voice Note":"Text Entry",a=e.mood,s=`Date: ${t}
`;return s+=`Type: ${r}
Mood: ${a}
`,e.title&&(s+=`Title: ${e.title}
`),e.content&&(s+=`Content: ${e.content}
`),e.voiceUrl&&(s+=`Voice URL: ${e.voiceUrl}
`),s+="\n"+"=".repeat(50)+"\n\n"}).join(""),n=`naggery-export-${new Date().toISOString().split("T")[0]}.txt`,i="text/plain";else if("PDF"===e){let e=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Naggery Export</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 40px; }
              .entry { margin-bottom: 30px; border-bottom: 1px solid #ccc; padding-bottom: 20px; }
              .entry-header { background: #f5f5f5; padding: 10px; margin-bottom: 10px; }
              .entry-content { margin: 10px 0; }
            </style>
          </head>
          <body>
            <h1>Naggery Export</h1>
            <p>Generated on: ${new Date().toLocaleString()}</p>
            <p>Total entries: ${a.length}</p>
            <hr>
            ${a.map(e=>`
              <div class="entry">
                <div class="entry-header">
                  <strong>Date:</strong> ${new Date(e.createdAt).toLocaleString()}<br>
                  <strong>Type:</strong> ${"VOICE"===e.type?"Voice Note":"Text Entry"}<br>
                  <strong>Mood:</strong> ${e.mood}
                  ${e.title?`<br><strong>Title:</strong> ${e.title}`:""}
                </div>
                ${e.content?`<div class="entry-content">${e.content.replace(/\n/g,"<br>")}</div>`:""}
                ${e.voiceUrl?`<div><strong>Voice URL:</strong> ${e.voiceUrl}</div>`:""}
              </div>
            `).join("")}
          </body>
          </html>
        `,r=new Blob([e],{type:"text/html"}),s=URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download=`naggery-export-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),t({title:"Export successful",description:"Your data has been exported as HTML. You can print it as PDF from your browser."});return}let o=new Blob([s],{type:i}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l),t({title:"Export successful",description:`Your data has been exported as ${e}.`})}catch(e){console.error("Export failed:",e),t({title:"Export failed",description:"Something went wrong while exporting your data.",variant:"destructive"})}finally{d(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 pb-20",children:[(0,a.jsx)(p.m,{title:"Settings"}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[(0,a.jsxs)(m.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(m.Ol,{children:[(0,a.jsxs)(m.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5"}),"Account"]}),(0,a.jsx)(m.SZ,{className:"text-gray-400",children:"Your account information"})]}),(0,a.jsxs)(m.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Name"}),(0,a.jsx)("div",{className:"text-gray-200",children:e?.user?.name||"Not set"})]}),(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Email"}),(0,a.jsx)("div",{className:"text-gray-200",children:e?.user?.email||"Not set"})]})]})]}),(0,a.jsxs)(m.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(m.Ol,{children:[(0,a.jsxs)(m.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),"Data Management"]}),(0,a.jsx)(m.SZ,{className:"text-gray-400",children:"Export and manage your personal data"})]}),(0,a.jsx)(m.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-200 mb-3",children:"Export Your Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Download all your entries in your preferred format for backup or legal documentation purposes."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>b("TXT"),disabled:r,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Export as TXT"]}),(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>b("JSON"),disabled:r,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Export as JSON"]}),(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>b("PDF"),disabled:r,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Export as PDF"]})]})]})})]}),(0,a.jsxs)(m.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(m.Ol,{children:[(0,a.jsxs)(m.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),"Privacy & Security"]}),(0,a.jsx)(m.SZ,{className:"text-gray-400",children:"Your data privacy and security information"})]}),(0,a.jsxs)(m.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-green-900/20 border border-green-700/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-200 mb-2",children:"\uD83D\uDD12 End-to-End Privacy"}),(0,a.jsx)("p",{className:"text-sm text-green-100",children:"Your entries are stored securely and only accessible by you. Voice recordings and text data are encrypted and protected."})]}),(0,a.jsxs)("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-200 mb-2",children:"\uD83D\uDCF1 Offline Capability"}),(0,a.jsx)("p",{className:"text-sm text-blue-100",children:"This app works offline as a PWA. Your data is stored locally and synced when you're online."})]})]})]}),(0,a.jsxs)(m.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(m.Ol,{children:[(0,a.jsxs)(m.ll,{className:"flex items-center gap-2 text-gray-50",children:[(0,a.jsx)(u,{className:"h-5 w-5"}),"About Naggery"]}),(0,a.jsx)(m.SZ,{className:"text-gray-400",children:"Application information and usage"})]}),(0,a.jsx)(m.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-300 space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Purpose:"})," Naggery is designed as a private documentation tool for recording personal experiences, thoughts, and observations."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Legal Documentation:"})," All entries are timestamped and can be exported for potential legal documentation purposes."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Privacy First:"})," Your data never leaves your control. All recordings and entries are stored securely and privately."]})]})})]}),(0,a.jsx)(m.Zb,{className:"bg-gray-800 border-gray-700",children:(0,a.jsx)(m.aY,{className:"p-6",children:(0,a.jsxs)(y.z,{variant:"destructive",onClick:f,className:"w-full",children:[(0,a.jsx)(x,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]}),(0,a.jsx)(h.L,{})]})}},8587:function(e,t,r){"use strict";r.d(t,{L:function(){return x}});var a=r(15444),s=r(79047),n=r(41084),i=r(71384),o=r(86523),l=r(26378),c=r(6488),d=r(65522);let u=[{href:"/",icon:i.Z,label:"Dashboard"},{href:"/entries",icon:o.Z,label:"Entries"},{href:"/analytics",icon:l.Z,label:"Analytics"},{href:"/settings",icon:c.Z,label:"Settings"}];function x(){let e=(0,s.usePathname)();return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gray-800/95 backdrop-blur-sm border-t border-gray-700 mobile-safe-area",children:(0,a.jsx)("nav",{className:"flex items-center justify-around py-2 px-4 max-w-md mx-auto",children:u.map(t=>{let r=e===t.href,s=t.icon;return(0,a.jsxs)(n.default,{href:t.href,className:(0,d.cn)("flex flex-col items-center justify-center py-2 px-3 rounded-lg transition-colors min-h-[60px] min-w-[60px]",r?"text-blue-400 bg-gray-700/50":"text-gray-400 hover:text-gray-200 hover:bg-gray-700/30"),children:[(0,a.jsx)(s,{className:"h-6 w-6 mb-1"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:t.label})]},t.href)})})})}},34161:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var a=r(15444),s=r(98155),n=r(79047),i=r(2422);function o({title:e,showBack:t=!1,action:r}){let o=(0,n.useRouter)();return(0,a.jsx)("header",{className:"sticky top-0 z-40 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 mobile-safe-area",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t&&(0,a.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>o.back(),className:"h-10 w-10",children:(0,a.jsx)(s.Z,{className:"h-5 w-5"})}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-50",children:e})]}),r&&(0,a.jsx)("div",{children:r})]})})}},2422:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var a=r(15444),s=r(89300),n=r(21030),i=r(2371),o=r(65522);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 touch-button",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-14 rounded-md px-8",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...i},c)=>{let d=s?n.g7:"button";return(0,a.jsx)(d,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:c,...i})});c.displayName="Button"},99827:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var a=r(15444),s=r(89300),n=r(65522);let i=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},95854:function(e,t,r){"use strict";r.d(t,{pm:function(){return x}});var a=r(89300);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,t]=a.useState(c);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},65522:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(32191),s=r(23607);function n(...e){return(0,s.m6)((0,a.W)(e))}},98155:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},26378:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},26584:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},26771:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},71384:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},86523:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},6488:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19484:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4693:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[162,10,762,386,156,744],function(){return e(e.s=86476)}),_N_E=e.O()}]);